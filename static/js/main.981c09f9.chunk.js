(this.webpackJsonpfifteen=this.webpackJsonpfifteen||[]).push([[0],[,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},,,,function(e,t,c){"use strict";c.r(t);c(10);var n=c(4),r=c(6),s=c(2),a=(c(11),c(1)),i=c.n(a),u=(c(13),c(14),c(8)),o=c.n(u),l=c(0),d=function(e){var t=e.number,c=t.value,n=t.id,r=t.isUsed,s=e.currentSelections,a=e.dispatch,i=e.isGameOver;return Object(l.jsx)("div",{className:o()({number:!0,selected:s.includes(n),used:r}),onClick:function(){r||i||(s.includes(n)?a({type:_.REMOVE_FROM_CURRENT_SELECTIONS,toBeRemoved:n}):s.length<3&&a({type:_.ADD_TO_CURRENT_SELECTIONS,toBeAdded:n}))},children:c})},O=i.a.memo(d),b=function(e){var t=e.boardNumbers,c=e.currentSelections,n=e.dispatch,r=e.isGameOver;return Object(l.jsx)("div",{className:"board",children:t.map((function(e){return Object(l.jsx)(O,{isGameOver:r,number:e,currentSelections:c,dispatch:n})}))})},j=(c(16),c.p+"static/media/fifteen.1b19e599.jpeg"),f=function(e){var t=e.startGame;return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("img",{src:j,className:"banner"}),Object(l.jsxs)("div",{className:"rules",children:[Object(l.jsx)("p",{children:"Players take it in turns to select 2 or 3 circles that total 15 in 15s."}),Object(l.jsx)("p",{children:"A player could select 2 circles, e.g. 7 and 8 or 3 circles, e.g. 4, 5 and 6."}),Object(l.jsx)("p",{children:"The last player who selects a combination of 15 is the winner."}),Object(l.jsx)("button",{onClick:t,children:"OK"})]})]})};c(17);var m=function(e,t){var c=Object(a.useRef)();Object(a.useEffect)((function(){c.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){c.current()}),t);return function(){return clearInterval(e)}}}),[t])},E=function(e){var t=e.dispatch,c=e.currentPlayer,r=Object(a.useState)(15),s=Object(n.a)(r,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){0===i&&t({type:_.SET_GAME_OVER})}),[t,i]),m((function(){i>0&&u(i-1)}),1e3),Object(l.jsxs)("label",{className:"timer player-".concat(c),children:["00:".concat(i<10?"0"+i:i)," "]})},v=1,h=2;function R(e,t){var c=t-e+1;return Math.floor(Math.random()*c+e)}for(var p=[],N=0;N<50;N++)p.push({value:R(1,9),isUsed:!1,id:N});var S={boardNumbers:p,currentPlayer:v,currentSelections:[],loser:"",isGameOver:!1},_={TOGGLE_CURRENT_PLAYER:5,SET_GAME_OVER:10,ADD_TO_CURRENT_SELECTIONS:11,REMOVE_FROM_CURRENT_SELECTIONS:13},T=function(e,t){switch(t.type){case _.TOGGLE_CURRENT_PLAYER:var c=e.boardNumbers;return e.currentSelections.forEach((function(e){c.find((function(t){return t.id===e})).isUsed=!0})),Object(s.a)(Object(s.a)({},e),{},{currentSelections:[],currentPlayer:e.currentPlayer===v?h:v,boardNumbers:Object(r.a)(c)});case _.ADD_TO_CURRENT_SELECTIONS:return Object(s.a)(Object(s.a)({},e),{},{currentSelections:[].concat(Object(r.a)(e.currentSelections),[t.toBeAdded])});case _.REMOVE_FROM_CURRENT_SELECTIONS:var n=e.currentSelections;return n.includes(t.toBeRemoved)&&n.splice(n.indexOf(t.toBeRemoved),1),Object(s.a)(Object(s.a)({},e),{},{currentSelections:Object(r.a)(n)});case _.SET_GAME_OVER:return Object(s.a)(Object(s.a)({},e),{},{isGameOver:!0,loser:e.currentPlayer})}},x=function(){var e=Object(a.useReducer)(T,S),t=Object(n.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!0),i=Object(n.a)(s,2),u=i[0],o=i[1],d=c.boardNumbers,O=c.currentPlayer,j=c.currentSelections,m=c.loser,R=c.isGameOver;return Object(a.useEffect)((function(){(function(e,t){return 15===t.filter((function(t){var c=t.id;return e.includes(c)})).map((function(e){return e.value})).reduce((function(e,t){return e+t}),0)})(j,d)&&r({type:_.TOGGLE_CURRENT_PLAYER})}),[j,d]),u?Object(l.jsx)(f,{startGame:function(){return o(!1)}}):Object(l.jsxs)("div",{className:"fifteen player-".concat(O),children:[Object(l.jsxs)("div",{className:"result-and-timer",children:[R&&Object(l.jsx)("div",{className:"player-2",children:m===h?"You Lost":"You Won"}),O===v&&!R&&Object(l.jsx)(E,{currentPlayer:O,isGameOver:R,dispatch:r})]}),Object(l.jsx)(b,{isGameOver:R,dispatch:r,currentSelections:j,boardNumbers:d}),Object(l.jsxs)("div",{className:"result-and-timer",children:[R&&Object(l.jsx)("div",{className:"player-1",children:m===v?"You Lost":"You Won"}),O===h&&!R&&Object(l.jsx)(E,{currentPlayer:O,isGameOver:R,dispatch:r})]})]})},y=c(9),C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};c.n(y).a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),C()}],[[21,1,2]]]);
//# sourceMappingURL=main.981c09f9.chunk.js.map