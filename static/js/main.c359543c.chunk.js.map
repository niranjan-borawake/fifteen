{"version":3,"sources":["components/Fifteen/Board/Number/index.js","components/Fifteen/Board/index.js","hooks/useInterval/index.js","components/Fifteen/Timer/index.js","components/Fifteen/index.js","reportWebVitals.js","index.js"],"names":["Number","number","value","id","isUsed","currentSelections","dispatch","className","classNames","selected","includes","used","onClick","length","type","ACTIONS","ADD_TO_CURRENT_SELECTIONS","toBeAdded","REMOVE_FROM_CURRENT_SELECTIONS","toBeRemoved","Board","boardNumbers","map","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","Timer","currentPlayer","useState","timer","setTimer","SET_GAME_OVER","PLAYERS","selectFrom","lowerValue","upperValue","choices","Math","floor","random","i","push","initialState","loser","isGameOver","TOGGLE_CURRENT_PLAYER","reducer","state","action","forEach","selection","find","boardNumber","splice","indexOf","Fifteen","useReducer","filter","reduce","accumulator","currentValue","isSumOfSelectionsFifteen","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c359543c.chunk.js","sourcesContent":["import './index.css';\nimport { ACTIONS } from '../..';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst Number = ({\n  number: { value, id, isUsed },\n  currentSelections,\n  dispatch,\n}) => {\n  const onNumberClick = () => {\n    if (isUsed) {\n      return;\n    }\n    if (currentSelections.length < 3) {\n      dispatch({\n        type: ACTIONS.ADD_TO_CURRENT_SELECTIONS,\n        toBeAdded: id,\n      });\n    }\n    if (currentSelections.includes(id)) {\n      dispatch({\n        type: ACTIONS.REMOVE_FROM_CURRENT_SELECTIONS,\n        toBeRemoved: id,\n      });\n    }\n  };\n  return (\n    <div\n      className={classNames({\n        number: true,\n        selected: currentSelections.includes(id),\n        used: isUsed,\n      })}\n      onClick={onNumberClick}\n    >\n      {value}\n    </div>\n  );\n};\nNumber.propTypes = {\n  addToSelections: PropTypes.func.isRequired,\n};\nexport default Number;\n","import './index.css';\nimport Number from './Number';\n\nconst Board = ({ boardNumbers, currentSelections, dispatch }) => {\n  return (\n    <div className=\"board\">\n      {boardNumbers.map(number => (\n        <Number\n          number={number}\n          currentSelections={currentSelections}\n          dispatch={dispatch}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Board;\n","/**\n * This hook is copied from - https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n */\n\nimport { useEffect, useRef } from 'react';\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest function.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","import './index.css';\nimport { useEffect, useState } from 'react';\nimport { ACTIONS } from '../../Fifteen';\nimport useInterval from '../../../hooks/useInterval';\n\nconst Timer = ({ dispatch, currentPlayer }) => {\n  const [timer, setTimer] = useState(15);\n  useEffect(() => {\n    if (timer === 0) {\n      dispatch({ type: ACTIONS.SET_GAME_OVER });\n    }\n  }, [dispatch, timer]);\n\n  useInterval(() => {\n    if (timer > 0) {\n      setTimer(timer - 1);\n    }\n  }, 1000);\n\n  return (\n    <label className={`timer player-${currentPlayer}`}>\n      {`00:${timer < 10 ? '0' + timer : timer}`}{' '}\n    </label>\n  );\n};\n\nexport default Timer;\n","import './index.css';\nimport { useEffect, useReducer } from 'react';\nimport Board from './Board';\nimport Timer from './Timer';\n\nconst PLAYERS = {\n  ONE: 1,\n  TWO: 2,\n};\nfunction selectFrom(lowerValue, upperValue) {\n  var choices = upperValue - lowerValue + 1;\n  return Math.floor(Math.random() * choices + lowerValue);\n}\nlet boardNumbers = [];\nfor (let i = 0; i < 50; i++) {\n  boardNumbers.push({ value: selectFrom(1, 9), isUsed: false, id: i });\n}\nconst initialState = {\n  boardNumbers,\n  currentPlayer: PLAYERS.ONE,\n  currentSelections: [],\n  loser: '',\n  isGameOver: false,\n};\nexport const ACTIONS = {\n  TOGGLE_CURRENT_PLAYER: 5,\n  SET_GAME_OVER: 10,\n  ADD_TO_CURRENT_SELECTIONS: 11,\n  REMOVE_FROM_CURRENT_SELECTIONS: 13,\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.TOGGLE_CURRENT_PLAYER: {\n      const { boardNumbers, currentSelections } = state;\n      currentSelections.forEach(selection => {\n        boardNumbers.find(\n          boardNumber => boardNumber.id === selection\n        ).isUsed = true;\n      });\n      return {\n        ...state,\n        currentSelections: [],\n        currentPlayer:\n          state.currentPlayer === PLAYERS.ONE ? PLAYERS.TWO : PLAYERS.ONE,\n        boardNumbers: [...boardNumbers],\n      };\n    }\n    case ACTIONS.ADD_TO_CURRENT_SELECTIONS:\n      return {\n        ...state,\n        currentSelections: [...state.currentSelections, action.toBeAdded],\n      };\n    case ACTIONS.REMOVE_FROM_CURRENT_SELECTIONS: {\n      const { currentSelections } = state;\n      currentSelections.splice(\n        currentSelections.indexOf(action.toBeRemoved),\n        1\n      );\n      return {\n        ...state,\n        currentSelections: [...currentSelections],\n      };\n    }\n    case ACTIONS.SET_GAME_OVER:\n      return { ...state, isGameOver: true, loser: state.currentPlayer };\n  }\n};\nconst isSumOfSelectionsFifteen = (currentSelections, boardNumbers) => {\n  return (\n    boardNumbers\n      .filter(({ id }) => currentSelections.includes(id))\n      .map(({ value }) => value)\n      .reduce((accumulator, currentValue) => accumulator + currentValue, 0) ===\n    15\n  );\n};\nconst Fifteen = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    boardNumbers,\n    currentPlayer,\n    currentSelections,\n    loser,\n    isGameOver,\n  } = state;\n\n  useEffect(() => {\n    if (isSumOfSelectionsFifteen(currentSelections, boardNumbers)) {\n      dispatch({ type: ACTIONS.TOGGLE_CURRENT_PLAYER });\n    }\n  }, [currentSelections, boardNumbers]);\n\n  return (\n    <div className={`fifteen player-${currentPlayer}`}>\n      <div className=\"result-and-timer\">\n        {isGameOver && (\n          <div className=\"player-2\">\n            {loser === PLAYERS.TWO ? 'You Lost' : 'You Won'}\n          </div>\n        )}\n        {currentPlayer === PLAYERS.ONE && !isGameOver && (\n          <Timer\n            currentPlayer={currentPlayer}\n            isGameOver={isGameOver}\n            dispatch={dispatch}\n          />\n        )}\n      </div>\n      <Board\n        dispatch={dispatch}\n        currentSelections={currentSelections}\n        boardNumbers={boardNumbers}\n      />\n      <div className=\"result-and-timer\">\n        {isGameOver && (\n          <div className=\"player-1\">\n            {loser === PLAYERS.ONE ? 'You Lost' : 'You Won'}\n          </div>\n        )}\n        {currentPlayer === PLAYERS.TWO && !isGameOver && (\n          <Timer\n            currentPlayer={currentPlayer}\n            isGameOver={isGameOver}\n            dispatch={dispatch}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\nexport default Fifteen;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport Fifteen from './components/Fifteen';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Fifteen />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}